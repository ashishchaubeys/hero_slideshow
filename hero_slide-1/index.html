<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Static Slider with Prev/Next & Progress Bar</title>
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            font-family: 'Lato';
            color: #d6f9dd;
            margin: 0;
        }
        
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
        
        .caption {
            position: absolute;
            top: 50%;
            left: 8rem;
            z-index: 9;
            opacity: 0;
            transition: 500ms ease opacity, 500ms ease transform;
            transform: translateY(60px);
            pointer-events: none;
            /* disable clicks by default */
        }
        
        .caption.current-caption,
        .caption.previous-caption {
            pointer-events: auto;
            /* clickable when visible */
        }
        
        .caption.current-caption {
            transition-delay: 1000ms;
            opacity: 1;
            transform: translateY(0);
        }
        
        .caption.previous-caption {
            transform: translateY(-60px);
        }
        
        .caption-heading h1 {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: .2rem;
            font-weight: 300;
        }
        
        .caption-subhead {
            font-size: 1.2rem;
            font-weight: 300;
            text-transform: uppercase;
            color: white;
            letter-spacing: 4px;
            margin-bottom: 2.5rem;
            display: block;
        }
        
        .caption a.btn {
            color: #333;
            font-size: 1rem;
            text-decoration: none;
            background-color: white;
            padding: .5rem 1rem;
            text-transform: uppercase;
            letter-spacing: .2rem;
            position: relative;
            z-index: 9;
            transition: 250ms ease-in background-color, 500ms ease-in color;
        }
        
        .caption a.btn:hover {
            background-color: black;
            color: white;
        }
        
        .container {
            width: 100%;
            height: 100vh;
            background-color: #2C302E;
            display: flex;
            position: relative;
            overflow: hidden;
        }
        
        .left-col {
            width: 100%;
            height: calc(100% - 4rem);
            /* If need to give 100% height without any bottom margin = just give it 100% */
            height: 100%;
            overflow: hidden;
            margin: 2rem;
            /* margin: 0; to give full width slider */
            margin: 0;
            position: relative;
        }
        
        .slide {
            /* filter: grayscale(100%); */
            position: absolute;
            width: 100%;
            height: 100%;
            background-position: left center;
            background-size: cover;
            background-repeat: no-repeat;
            opacity: 0;
            transition: 1000ms cubic-bezier(1.000, 0.040, 0.355, 1.000) transform, 1000ms cubic-bezier(0.680, -0.550, 0.265, 1.550) clip-path;
            transform: translateY(-100%) scale(1);
            z-index: -1;
        }
        
        .slide.previous {
            z-index: 1;
            opacity: 1;
            transform: translateY(0);
            clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
            transition: 3s ease transform;
        }
        
        .slide.previous.change {
            transform: translateY(50%);
        }
        
        .slide.next {
            transform: translateY(-100%);
            z-index: 3;
            opacity: 1;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 0% 100%);
        }
        
        .slide.current {
            opacity: 1;
            transform: translateY(0) scale(1.25);
            z-index: 2;
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);
        }
        
        .nav {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 6;
        }
        
        .nav a {
            color: rgba(250, 250, 250, 1);
            font-size: 3rem;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.4);
            text-decoration: none;
        }
        
        .nav .slide-up,
        .nav .slide-down {
            display: block;
            position: absolute;
            text-align: center;
            padding: 1rem;
            opacity: 0;
            transition: .25s ease opacity, .25s ease transform;
            z-index: 99;
        }
        
        .nav .slide-up:hover,
        .nav .slide-down:hover {
            opacity: 1;
        }
        
        .nav .slide-up {
            top: 50%;
            left: 0;
            transform: translateX(-100%);
        }
        
        .nav .slide-down {
            top: 50%;
            right: 0;
            transform: translateX(100%);
        }
        
        .nav:hover .slide-up,
        .nav:hover .slide-down {
            opacity: .5;
            transform: translateX(0);
        }
        /* Progress bar styles */
        
        .progress-container {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: rgba(255, 255, 255, 0.2);
            z-index: 10;
        }
        
        .progress-bar {
            height: 100%;
            width: 0%;
            background: #fff;
            transition: width linear;
        }
        /* Autoplay toggle button */
        
        .autoplay-toggle {
            position: absolute;
            bottom: 0px;
            left: 50%;
            transform: translate(-50%);
            z-index: 11;
            background: rgba(255, 255, 255, 0);
            border: none;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 16px;
            color: #fff;
        }
        
        .autoplay-toggle {
            transition: transform 0.3s ease;
            /* keep your existing transform to center */
            transform: translateX(-50%) scale(1);
        }
        
        .autoplay-toggle:hover {
            transform: translateX(-50%) scale(1.1);
            /* zoom in 10% */
        }
        /* Responsive Media Queries CSS */
        
        @media screen and (max-width: 1440px) {
            .slide {
                background-position: center;
                background-size: cover;
            }
            .caption-heading h1 {
                font-size: 3rem;
                /* bigger for 4K */
                margin-bottom: 2rem;
                letter-spacing: 0.25rem;
            }
            .caption-subhead {
                font-size: 1rem;
            }
            .caption a.btn {
                font-size: 0.8em;
            }
            .autoplay-toggle {
                font-size: 1.2em;
            }
        }
        
        @media screen and (max-width: 1024px) {
            .slide {
                background-position: center;
            }
            .caption-heading h1 {
                font-size: 2.5rem;
                margin-bottom: 1.5rem;
                letter-spacing: 0.25rem;
            }
            .caption-subhead {
                font-size: 0.75rem;
            }
            .caption a.btn {
                font-size: 0.7em;
            }
            .autoplay-toggle {
                font-size: 1em;
            }
        }
        
        @media screen and (max-width: 768px) {
            .caption {
                left: 2rem;
                /* transform: translate(-50%) !important; */
            }
        }
    </style>
</head>

<body>

    <div class="container" id="container">

        <!-- Captions -->
        <div class="caption current-caption">
            <div class="caption-heading">
                <h1>Slide 1</h1>
            </div>
            <div class="caption-subhead"><span>DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT.</span></div>
            <a class="btn" href="#">Sit Amet</a>
        </div>
        <div class="caption next-caption">
            <div class="caption-heading">
                <h1>Slide 2</h1>
            </div>
            <div class="caption-subhead"><span>DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT.</span></div>
            <a class="btn" href="#">Sit Amet</a>
        </div>
        <div class="caption">
            <div class="caption-heading">
                <h1>Slide 3</h1>
            </div>
            <div class="caption-subhead"><span>DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT.</span></div>
            <a class="btn" href="#">Sit Amet</a>
        </div>
        <div class="caption previous-caption">
            <div class="caption-heading">
                <h1>Slide 4</h1>
            </div>
            <div class="caption-subhead"><span>DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT.</span></div>
            <a class="btn" href="#">Sit Amet</a>
        </div>
        <div class="caption previous-caption">
            <div class="caption-heading">
                <h1>Slide 5</h1>
            </div>
            <div class="caption-subhead"><span>DOLOR SIT AMET, CONSECTETUR ADIPISCING ELIT.</span></div>
            <a class="btn" href="#">Sit Amet</a>
        </div>

        <!-- Slides -->
        <div class="left-col">
            <div class="slide current" style="background-image:url('https://theme-xclusive-d2c.myshopify.com/cdn/shop/files/Heroimage.jpg?pad_color=fff&v=1746535779&width=2000')"></div>
            <div class="slide next" style="background-image:url('https://blockshop-theme-adorn.myshopify.com/cdn/shop/files/pink-knit-sweater-australia.jpg')"></div>
            <div class="slide" style="background-image:url('https://stiletto-theme-linen.myshopify.com/cdn/shop/files/st-agni-fall-2022-ad-campaign-the-impression-009_wide.jpg?v=1655847065&width=2000')"></div>
            <div class="slide previous" style="background-image:url('https://blockshop-theme-adorn.myshopify.com/cdn/shop/files/floral-mini-dress.jpg')"></div>
            <div class="slide" style="background-image:url('https://stretch-theme-sand.myshopify.com/cdn/shop/files/merch-collection-super-glow-desktop.jpg?v=1737558144&width=2000')"></div>
        </div>

        <!-- Navigation -->
        <ul class="nav">
            <li class="slide-up"><a id="up_button" href="#">&#60;</a></li>
            <li class="slide-down"><a id="down_button" href="#">&#62;</a></li>
        </ul>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <!-- Autoplay toggle -->
        <button class="autoplay-toggle" id="autoplayToggle">◁ ||</button>

    </div>

    <script>
        let slides = Array.from(document.querySelectorAll('.slide'));
        let captions = Array.from(document.querySelectorAll('.caption'));
        let progressBar = document.getElementById('progressBar');
        let autoplayDelay = 8000;
        let autoplay = null;
        let isPlaying = true;

        // ---------- AUTOPLAY CONTROL ----------
        function startAutoplay() {
            clearInterval(autoplay);
            autoplay = setInterval(nextSlide, autoplayDelay);
            startProgress();
            isPlaying = true;
            updateToggleButton();
        }

        function stopAutoplay() {
            clearInterval(autoplay);

            // Freeze progress bar immediately
            let currentWidth = getComputedStyle(progressBar).width;
            progressBar.style.transition = 'none';
            progressBar.style.width = currentWidth; // lock at current width
            void progressBar.offsetWidth; // force reflow
            progressBar.style.width = currentWidth;
            progressBar.style.opacity = '0'; // hide

            isPlaying = false;
            updateToggleButton();
        }

        function updateToggleButton() {
            const toggleBtn = document.getElementById('autoplayToggle');
            toggleBtn.textContent = isPlaying ? '◁ ||' : '▷';
        }

        // ---------- PROGRESS BAR ----------
        function startProgress() {
            progressBar.style.transition = 'none';
            progressBar.style.width = '0%';
            progressBar.style.opacity = '1';
            setTimeout(() => {
                progressBar.style.transition = `width ${autoplayDelay}ms linear`;
                progressBar.style.width = '100%';
            }, 50);
        }

        // ---------- SLIDE CONTROLS ----------
        function nextSlide() {
            slides.forEach(slide => slide.className = 'slide');
            captions.forEach(caption => caption.className = 'caption');

            slides.push(slides.shift());
            captions.push(captions.shift());

            slides[0].classList.add('current');
            slides[1].classList.add('next');
            slides[slides.length - 1].classList.add('previous');

            captions[0].classList.add('current-caption');
            captions[1].classList.add('next-caption');
            captions[captions.length - 1].classList.add('previous-caption');

            startProgress();
        }

        function prevSlide() {
            slides.forEach(slide => slide.className = 'slide');
            captions.forEach(caption => caption.className = 'caption');

            slides.unshift(slides.pop());
            captions.unshift(captions.pop());

            slides[0].classList.add('current');
            slides[1].classList.add('next');
            slides[slides.length - 1].classList.add('previous');

            captions[0].classList.add('current-caption');
            captions[1].classList.add('next-caption');
            captions[captions.length - 1].classList.add('previous-caption');

            startProgress();
        }

        // ---------- BUTTON EVENTS ----------
        document.getElementById('down_button').addEventListener('click', e => {
            e.preventDefault();
            if (isPlaying) startAutoplay();
            nextSlide();
        });

        document.getElementById('up_button').addEventListener('click', e => {
            e.preventDefault();
            if (isPlaying) startAutoplay();
            prevSlide();
        });

        document.getElementById('autoplayToggle').addEventListener('click', function() {
            if (isPlaying) {
                stopAutoplay();
            } else {
                startAutoplay();
            }
        });

        // ---------- MOUSE EVENTS ----------
        document.getElementById('container').addEventListener('mouseenter', () => {
            if (isPlaying) clearInterval(autoplay);
        });
        document.getElementById('container').addEventListener('mouseleave', () => {
            if (isPlaying) startAutoplay();
        });

        // ---------- INIT ----------
        startAutoplay();
    </script>


</body>

</html>
